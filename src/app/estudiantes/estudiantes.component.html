<h2 class="header">Lista de Estudiantes</h2>

<table class="styled-table">
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Edad</th>
      <th>Fecha de Nacimiento</th>
      <th>Curso</th>
      <th>Dirección</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let estudiante of estudiantes">
      <td>{{ estudiante.nombre }}</td>
      <td>{{ estudiante.apellido }}</td>
      <td>{{ estudiante.edad }}</td>
      <td>{{ estudiante.fechaNacimiento | date }}</td>
      <td>{{ estudiante.idCurso }}</td>
      <td>{{ estudiante.direccion }}</td>
      <td>
        <button class="action-btn edit-btn" (click)="editEstudiante(estudiante.idEstudiante)">Editar</button>
        <button class="action-btn delete-btn" (click)="deleteEstudiante(estudiante.idEstudiante)">Borrar</button>
      </td>
    </tr>
  </tbody>
</table>

<h2 class="header">{{ selectedEstudianteId ? 'Editar Estudiante' : 'Registrar Estudiante' }}</h2>
<form [formGroup]="estudianteForm" (ngSubmit)="onSubmit()" class="form-container">
  <div class="form-group">
    <label for="nombre">Nombre:</label>
    <input id="nombre" formControlName="nombre" required>
  </div>

  <div class="form-group">
    <label for="apellido">Apellido:</label>
    <input id="apellido" formControlName="apellido" required>
  </div>

  <div class="form-group">
    <label for="edad">Edad:</label>
    <input id="edad" formControlName="edad" type="number" required>
  </div>

  <div class="form-group">
    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
    <input id="fechaNacimiento" formControlName="fechaNacimiento" type="date" required>
  </div>

  <div class="form-group">
    <label for="idCurso">Curso:</label>
    <select id="idCurso" formControlName="idCurso" required>
      <option *ngFor="let curso of cursos" [value]="curso.idCurso">{{ curso.descripcion }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="direccion">Dirección:</label>
    <input id="direccion" formControlName="direccion" required>
  </div>

  <button class="submit-btn" type="submit">{{ selectedEstudianteId ? 'Actualizar' : 'Registrar' }} Estudiante</button>
</form>

<button (click)="logout()" class="btn btn-danger">
    Cerrar sesión
</button>